--Grupo #3
--Erick Hernández Ugalde    100%
--Caleb Leon Azofeifa       100%
--Daniel Madrigal Mendez    100%

--------------------------------------------------------------------------------
-- Creación de usuario para modelo Entidad-Relación.
--------------------------------------------------------------------------------
-- alter session set "_ORACLE_SCRIPT" = TRUE;
-- DROP USER PROYECTOABD_ER CASCADE;

 CREATE USER PROYECTOABD_ER IDENTIFIED BY Oracle01 DEFAULT TABLESPACE USERS QUOTA UNLIMITED ON USERS;
 GRANT CONNECT, RESOURCE TO PROYECTOABD_ER;
--------------------------------------------------------------------------------
-- Creación de tablas entidad-relación

CREATE TABLE TIPO_ENVIO (
   TPE_ID                    INTEGER NOT NULL PRIMARY KEY,
   TPE_DESCRIPCION           VARCHAR(40) NOT NULL,
   TPE_ESTADO                INTEGER NOT NULL,
   TPE_REQUIERE_CONFIRMACION INTEGER
);

CREATE TABLE TIPO_PRODUCTO (
   TPD_ID          INTEGER NOT NULL PRIMARY KEY,
   TPD_DESCRIPCION VARCHAR(40) NOT NULL
);

CREATE TABLE CLIENTE (
   CTE_ID          INTEGER NOT NULL PRIMARY KEY,
   CTE_NOMBRE      VARCHAR(60) NOT NULL
);

CREATE TABLE PRODUCTO (
   PRD_ID INTEGER NOT NULL PRIMARY KEY,
   PRD_TPD_ID INTEGER NOT NULL,
   PRD_NOMBRE VARCHAR(40) NOT NULL,
   PRD_CANTIDAD DECIMAL(10,2) NOT NULL,
   PRD_COSTO_UNITARIO DECIMAL(20,2) NOT NULL,
   FOREIGN KEY (PRD_TPD_ID) REFERENCES TIPO_PRODUCTO(TPD_ID)
);

CREATE TABLE ORDEN_COMPRA (
   OCP_ID INTEGER NOT NULL PRIMARY KEY,
   OCP_PRD_ID INTEGER NOT NULL,
   OCP_CTE_ID INTEGER NOT NULL,
   OCP_TPE_ID INTEGER NOT NULL,
   FOREIGN KEY (OCP_TPE_ID) REFERENCES TIPO_ENVIO(TPE_ID),
   FOREIGN KEY (OCP_PRD_ID) REFERENCES PRODUCTO(PRD_ID),
   FOREIGN KEY (OCP_CTE_ID) REFERENCES CLIENTE(CTE_ID)
);

-- Inserciones tabla TIPO_ENVIO

INSERT INTO TIPO_ENVIO (TPE_ID, TPE_DESCRIPCION, TPE_ESTADO, TPE_REQUIERE_CONFIRMACION) VALUES (1, 'Entrega Simple', 1, 0);

INSERT INTO TIPO_ENVIO (TPE_ID, TPE_DESCRIPCION, TPE_ESTADO, TPE_REQUIERE_CONFIRMACION) VALUES (2, 'Entrega Express', 1, 0);

INSERT INTO TIPO_ENVIO (TPE_ID, TPE_DESCRIPCION, TPE_ESTADO, TPE_REQUIERE_CONFIRMACION) VALUES (3, 'Entrega Internacional', 1, 1);

INSERT INTO TIPO_ENVIO (TPE_ID, TPE_DESCRIPCION, TPE_ESTADO, TPE_REQUIERE_CONFIRMACION) VALUES (4, 'Entrega Premium', 1, 1);

INSERT INTO TIPO_ENVIO (TPE_ID, TPE_DESCRIPCION, TPE_ESTADO, TPE_REQUIERE_CONFIRMACION) VALUES (5, 'Entrega con costos reducidos', 1, 1);

-- Inserciones tabla TIPO_PRODUCTO

INSERT INTO TIPO_PRODUCTO (TPD_ID, TPD_DESCRIPCION) VALUES (1, 'Electr?nicos');

INSERT INTO TIPO_PRODUCTO (TPD_ID, TPD_DESCRIPCION) VALUES (2, 'Maquillajes');

INSERT INTO TIPO_PRODUCTO (TPD_ID, TPD_DESCRIPCION) VALUES (3, 'Ropa');

INSERT INTO TIPO_PRODUCTO (TPD_ID, TPD_DESCRIPCION) VALUES (4, 'Libros');

INSERT INTO TIPO_PRODUCTO (TPD_ID, TPD_DESCRIPCION) VALUES (5, 'Obras de arte');


-- Inserciones tabla CLIENTE

INSERT INTO CLIENTE (CTE_ID, CTE_NOMBRE) VALUES (1, 'Roberto Salas');

INSERT INTO CLIENTE (CTE_ID, CTE_NOMBRE) VALUES (2, 'Martin Guzman');

INSERT INTO CLIENTE (CTE_ID, CTE_NOMBRE) VALUES (3, 'Patricio Fernandez');

INSERT INTO CLIENTE (CTE_ID, CTE_NOMBRE) VALUES (4, 'Maria Azofeifa');

INSERT INTO CLIENTE (CTE_ID, CTE_NOMBRE) VALUES (5, 'Carlos Sandoval');

INSERT INTO CLIENTE (CTE_ID, CTE_NOMBRE) VALUES (6, 'Paula Romero');

INSERT INTO CLIENTE (CTE_ID, CTE_NOMBRE) VALUES (7, 'Miguel Santos');

INSERT INTO CLIENTE (CTE_ID, CTE_NOMBRE) VALUES (8, 'Fernando Morales');

INSERT INTO CLIENTE (CTE_ID, CTE_NOMBRE) VALUES (9, 'Rigoberto Madrigal');

INSERT INTO CLIENTE (CTE_ID, CTE_NOMBRE) VALUES (10, 'Laura Chac?n');

INSERT INTO CLIENTE (CTE_ID, CTE_NOMBRE) VALUES (11, 'Joaqu?n Moreno');

INSERT INTO CLIENTE (CTE_ID, CTE_NOMBRE) VALUES (12, 'Paola Garc?a');

INSERT INTO CLIENTE (CTE_ID, CTE_NOMBRE) VALUES (13, 'Carlos Cordero');

INSERT INTO CLIENTE (CTE_ID, CTE_NOMBRE) VALUES (14, 'Lucas Perez');

INSERT INTO CLIENTE (CTE_ID, CTE_NOMBRE) VALUES (15, 'Kaleb Rodriguez');

INSERT INTO CLIENTE (CTE_ID, CTE_NOMBRE) VALUES (16, 'Brayan Sandoval');

INSERT INTO CLIENTE (CTE_ID, CTE_NOMBRE) VALUES (17, 'Alejandro Fernandez');

INSERT INTO CLIENTE (CTE_ID, CTE_NOMBRE) VALUES (18, 'Ricardo Rodriguez');

INSERT INTO CLIENTE (CTE_ID, CTE_NOMBRE) VALUES (19, 'Mario Vega');

INSERT INTO CLIENTE (CTE_ID, CTE_NOMBRE) VALUES (20, 'Ana Reyes');

-- Inserciones tabla PRODUCTO

INSERT INTO PRODUCTO (PRD_ID, PRD_TPD_ID, PRD_NOMBRE, PRD_CANTIDAD, PRD_COSTO_UNITARIO) VALUES (1, 1, 'Tarjeta Nvidia', 50, 1800.00);

INSERT INTO PRODUCTO (PRD_ID, PRD_TPD_ID, PRD_NOMBRE, PRD_CANTIDAD, PRD_COSTO_UNITARIO) VALUES (2, 2, 'Camiseta deportiva Nike', 200, 20.00);

INSERT INTO PRODUCTO (PRD_ID, PRD_TPD_ID, PRD_NOMBRE, PRD_CANTIDAD, PRD_COSTO_UNITARIO) VALUES (3, 3, 'Disco de vinilo Mago de Oz', 150, 655.00);

INSERT INTO PRODUCTO (PRD_ID, PRD_TPD_ID, PRD_NOMBRE, PRD_CANTIDAD, PRD_COSTO_UNITARIO) VALUES (4, 4, 'Fablehaven Volumen 5', 100, 300.50);

INSERT INTO PRODUCTO (PRD_ID, PRD_TPD_ID, PRD_NOMBRE, PRD_CANTIDAD, PRD_COSTO_UNITARIO) VALUES (5, 5, 'Guardianes de los cristales', 30, 350.00);

INSERT INTO PRODUCTO (PRD_ID, PRD_TPD_ID, PRD_NOMBRE, PRD_CANTIDAD, PRD_COSTO_UNITARIO) VALUES (6, 1, 'Samsung Galaxy Note 10', 20, 1000.00);

INSERT INTO PRODUCTO (PRD_ID, PRD_TPD_ID, PRD_NOMBRE, PRD_CANTIDAD, PRD_COSTO_UNITARIO) VALUES (7, 2, 'Pantalones de playa Adidas', 120, 60.00);

INSERT INTO PRODUCTO (PRD_ID, PRD_TPD_ID, PRD_NOMBRE, PRD_CANTIDAD, PRD_COSTO_UNITARIO) VALUES (8, 3, 'Grand The Auto V', 200, 45.00);

INSERT INTO PRODUCTO (PRD_ID, PRD_TPD_ID, PRD_NOMBRE, PRD_CANTIDAD, PRD_COSTO_UNITARIO) VALUES (9, 4, 'Libro de Estudios Sociales volumen V', 90, 15.00);

INSERT INTO PRODUCTO (PRD_ID, PRD_TPD_ID, PRD_NOMBRE, PRD_CANTIDAD, PRD_COSTO_UNITARIO) VALUES (10, 5, 'Mesa de comedor cristal reforzado', 25, 500.00);

INSERT INTO PRODUCTO (PRD_ID, PRD_TPD_ID, PRD_NOMBRE, PRD_CANTIDAD, PRD_COSTO_UNITARIO) VALUES (11, 1, 'Playstation 5 color blanco', 70, 800.00);

INSERT INTO PRODUCTO (PRD_ID, PRD_TPD_ID, PRD_NOMBRE, PRD_CANTIDAD, PRD_COSTO_UNITARIO) VALUES (12, 2, 'Playstation 5 version Elden Ring', 10, 900.00);

INSERT INTO PRODUCTO (PRD_ID, PRD_TPD_ID, PRD_NOMBRE, PRD_CANTIDAD, PRD_COSTO_UNITARIO) VALUES (13, 3, 'Nintendo Switch versi?n blanco y negro', 150, 840.00);

INSERT INTO PRODUCTO (PRD_ID, PRD_TPD_ID, PRD_NOMBRE, PRD_CANTIDAD, PRD_COSTO_UNITARIO) VALUES (14, 4, 'Libro Dibujar', 110, 25.00);

INSERT INTO PRODUCTO (PRD_ID, PRD_TPD_ID, PRD_NOMBRE, PRD_CANTIDAD, PRD_COSTO_UNITARIO) VALUES (15, 5, 'Silla gamer scorpion luces incorporadas', 40, 100.00);

INSERT INTO PRODUCTO (PRD_ID, PRD_TPD_ID, PRD_NOMBRE, PRD_CANTIDAD, PRD_COSTO_UNITARIO) VALUES (16, 1, 'Monitor 140 GHz resoluci?n 4k', 75, 150.00);

INSERT INTO PRODUCTO (PRD_ID, PRD_TPD_ID, PRD_NOMBRE, PRD_CANTIDAD, PRD_COSTO_UNITARIO) VALUES (17, 2, 'Zapatos deportivos Adidas', 130, 40.00);

INSERT INTO PRODUCTO (PRD_ID, PRD_TPD_ID, PRD_NOMBRE, PRD_CANTIDAD, PRD_COSTO_UNITARIO) VALUES (18, 3, 'Rompecabezas 1000 piezas de pajaros', 170, 30.00);

INSERT INTO PRODUCTO (PRD_ID, PRD_TPD_ID, PRD_NOMBRE, PRD_CANTIDAD, PRD_COSTO_UNITARIO) VALUES (19, 4, 'Libro Anatom?a del cuerpo humano', 85, 60.00);

INSERT INTO PRODUCTO (PRD_ID, PRD_TPD_ID, PRD_NOMBRE, PRD_CANTIDAD, PRD_COSTO_UNITARIO) VALUES (20, 5, 'Lampara luz led', 50, 50.00);

-- Inserciones tabla ORDEN_COMPRA

INSERT INTO ORDEN_COMPRA (OCP_ID, OCP_PRD_ID, OCP_CTE_ID, OCP_TPE_ID) VALUES (1, 1, 1, 1);

INSERT INTO ORDEN_COMPRA (OCP_ID, OCP_PRD_ID, OCP_CTE_ID, OCP_TPE_ID) VALUES (2, 2, 2, 2);

INSERT INTO ORDEN_COMPRA (OCP_ID, OCP_PRD_ID, OCP_CTE_ID, OCP_TPE_ID) VALUES (3, 3, 3, 3);

INSERT INTO ORDEN_COMPRA (OCP_ID, OCP_PRD_ID, OCP_CTE_ID, OCP_TPE_ID) VALUES (4, 4, 4, 4);

INSERT INTO ORDEN_COMPRA (OCP_ID, OCP_PRD_ID, OCP_CTE_ID, OCP_TPE_ID) VALUES (5, 5, 5, 5);

INSERT INTO ORDEN_COMPRA (OCP_ID, OCP_PRD_ID, OCP_CTE_ID, OCP_TPE_ID) VALUES (6, 6, 6, 1);

INSERT INTO ORDEN_COMPRA (OCP_ID, OCP_PRD_ID, OCP_CTE_ID, OCP_TPE_ID) VALUES (7, 7, 7, 2);

INSERT INTO ORDEN_COMPRA (OCP_ID, OCP_PRD_ID, OCP_CTE_ID, OCP_TPE_ID) VALUES (8, 8, 8, 3);

INSERT INTO ORDEN_COMPRA (OCP_ID, OCP_PRD_ID, OCP_CTE_ID, OCP_TPE_ID) VALUES (9, 9, 9, 4);

INSERT INTO ORDEN_COMPRA (OCP_ID, OCP_PRD_ID, OCP_CTE_ID, OCP_TPE_ID) VALUES (10, 10, 10, 5);

INSERT INTO ORDEN_COMPRA (OCP_ID, OCP_PRD_ID, OCP_CTE_ID, OCP_TPE_ID) VALUES (11, 11, 11, 1);

INSERT INTO ORDEN_COMPRA (OCP_ID, OCP_PRD_ID, OCP_CTE_ID, OCP_TPE_ID) VALUES (12, 12, 12, 2);

INSERT INTO ORDEN_COMPRA (OCP_ID, OCP_PRD_ID, OCP_CTE_ID, OCP_TPE_ID) VALUES (13, 13, 13, 3);

INSERT INTO ORDEN_COMPRA (OCP_ID, OCP_PRD_ID, OCP_CTE_ID, OCP_TPE_ID) VALUES (14, 14, 14, 4);

INSERT INTO ORDEN_COMPRA (OCP_ID, OCP_PRD_ID, OCP_CTE_ID, OCP_TPE_ID) VALUES (15, 15, 15, 5);

INSERT INTO ORDEN_COMPRA (OCP_ID, OCP_PRD_ID, OCP_CTE_ID, OCP_TPE_ID) VALUES (16, 16, 16, 1);

INSERT INTO ORDEN_COMPRA (OCP_ID, OCP_PRD_ID, OCP_CTE_ID, OCP_TPE_ID) VALUES (17, 17, 17, 2);

INSERT INTO ORDEN_COMPRA (OCP_ID, OCP_PRD_ID, OCP_CTE_ID, OCP_TPE_ID) VALUES (18, 18, 18, 3);

INSERT INTO ORDEN_COMPRA (OCP_ID, OCP_PRD_ID, OCP_CTE_ID, OCP_TPE_ID) VALUES (19, 19, 19, 4);

INSERT INTO ORDEN_COMPRA (OCP_ID, OCP_PRD_ID, OCP_CTE_ID, OCP_TPE_ID) VALUES (20, 20, 20, 5);

COMMIT;


--------------------------------------------------------------------------------------
--DROP DE LAS TABLAS(EN CASO DE ERROR)


DROP TABLE  ORDEN_COMPRA;

DROP TABLE  PRODUCTO;

DROP TABLE  CLIENTE;

DROP TABLE TIPO_PRODUCTO;

DROP TABLE TIPO_ENVIO;